# Pentest

<p align=center>
  <img src='./assets/penetration-testing.png'>
</p>

## 0) Configurando o Ambiente
- Se faz necessário desabilitar o **Secure Boot** na **BIOS**
- [Kali Linux - Virtual Machines](https://kali.download/virtual-images/kali-2022.1/kali-linux-2022.1-virtualbox-amd64.ova)
- Instalar [VirtualBox](https://www.virtualbox.org/) via terminal p/ sistemas Linux 64 bits:
  - `wget https://download.virtualbox.org/virtualbox/6.1.30/VirtualBox-6.1.30-148432-Linux_amd64.run -O virtualbox.run`
  - `chmod +x virtualbox.run`
  - `sudo ./virtualbox.run`
  - Obs: Para **desinstalar**: `sudo sh /opt/VirtualBox/uninstall.sh`

<br>

## 1) Footprinting - Coleta de Informações
> Primeira fase de um processo de Ethical Hacking. Consiste em observar e coletar informações sobre um potencial alvo com a intenção de achar uma forma de atacá-lo. Busca por informações, fraquezas ou potenciais vulnerabilidades, por isso é uma fase vital no processo do pentest.

### [Comandos Úteis]
- $ `whois <URL>`
- $ `dnsenum <URL>`
- $ `dnsrecon -d <URL>`
- $ `host <URL>`

### [Urls Úteis]
- [who.is](https://who.is/)
- [crt.sh](https://crt.sh/)
- [GoogleHacking](https://www.google.com/): 
  - Buscar por `dominio.com/robots.txt` | Lista quais diretórios do domínio em questão devem ser bloqueados pelo buscador do google (logo, identificamos que tais diretórios existem)
  - Buscar por `site:dominio.com` | Lista demais informações sobre aquele domínio (pode ser importante)

### [Observações]
- Buscar uma palavra-chave em meio a lista de comandos possíveis (flag *--help*) em uma ferramenta:
  - `dnsenum --help | grep brute`
    - O comando `grep` filtra por uma palavra-chave, neste caso vai listar todas as flags do `dnsenum` que contém a palavra "brute" na descrição.
- É válido criar um sh-script para executar o comando `host` em possíveis sub-domínios das aplicações. *Exemplo: `admin.dominio.br` | `loja.dominio.br` | `news.dominio.br` | etc...*
  - Os comandos `dnsenum` e `dnsrecon` já trazem esse tipo de ferramenta:
    - `dnsrecon -d bancocn.com -t brt`
    - `dnsenum bancocn.com -f /usr/share/wordlists/wfuzz/general/common.txt`
  - Já existem *WordLists* robustas como da página [DigiNinja](https://digi.ninja/projects/cewl.php)

<br>

## 2) Analisando o alvo com Nmap
- Netcat `man nc` | *Ferramenta para ler e escrever dados em uma rede utilizando o protocolo TCP/IP*
  - Sintaxe: (*nc + <ip>OR<url> + <porta>*): `nc 104.21.52.8 80` OU `www.bancocn.com 80`
> **Network Mapper**: Ferramenta gratuita de código aberto para descoberta e auditoria de redes. Basicamente, o Nmap determina quais *hosts* estão disponíveis na rede, quais serviços (nome e versão) estes hosts estã oferecendo, quais sistemas operacionais eles estão executando, que tipos de filtros/firewalls estão em uso e dezenas de outras características.
  - `man nmap`: [nmap docs](https://nmap.org/book/man.html)